databaseChangeLog:
  - changeSet:
      id: 1674918550219-1
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_address
                  name: id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  defaultValueComputed: CURRENT_TIMESTAMP
                  name: created_at
                  type: TIMESTAMP
              - column:
                  constraints:
                    nullable: false
                  defaultValueComputed: CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
                  name: updated_at
                  type: TIMESTAMP
              - column:
                  name: deleted_at
                  type: DATETIME
              - column:
                  constraints:
                    nullable: false
                  name: street
                  type: varchar(100)
              - column:
                  constraints:
                    nullable: false
                  name: apartment_number
                  type: varchar(10)
              - column:
                  constraints:
                    nullable: false
                  name: city
                  type: varchar(50)
              - column:
                  name: state
                  type: varchar(2)
              - column:
                  constraints:
                    nullable: false
                  name: zip_code
                  type: varchar(10)
              - column:
                  constraints:
                    nullable: false
                  name: country
                  type: varchar(50)
            tableName: address
  - changeSet:
      id: 1674918550219-2
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_category
                  name: id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  defaultValueComputed: CURRENT_TIMESTAMP
                  name: created_at
                  type: TIMESTAMP
              - column:
                  constraints:
                    nullable: false
                  defaultValueComputed: CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
                  name: updated_at
                  type: TIMESTAMP
              - column:
                  name: deleted_at
                  type: DATETIME
              - column:
                  constraints:
                    nullable: false
                  name: name
                  type: varchar(32)
            tableName: category
  - changeSet:
      id: 1674918550219-3
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: category_id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: restaurants_id
                  type: BIGINT
            tableName: category_restaurants
  - changeSet:
      id: 1674918550219-4
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_certificate
                  name: id
                  type: VARCHAR(255)
              - column:
                  constraints:
                    nullable: false
                  defaultValueComputed: CURRENT_TIMESTAMP
                  name: created_at
                  type: TIMESTAMP
              - column:
                  constraints:
                    nullable: false
                  defaultValueComputed: CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
                  name: updated_at
                  type: TIMESTAMP
              - column:
                  constraints:
                    nullable: false
                  name: sent_from
                  type: varchar(120)
              - column:
                  constraints:
                    nullable: false
                  name: description
                  type: text
              - column:
                  constraints:
                    nullable: false
                  name: activation_code
                  type: varchar(36)
              - column:
                  constraints:
                    nullable: false
                  name: value
                  type: int
              - column:
                  constraints:
                    nullable: false
                  name: valid_until
                  type: date
              - column:
                  constraints:
                    nullable: false
                  name: user_id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: active
                  type: bool
              - column:
                  constraints:
                    nullable: false
                  name: activated_at
                  type: date
              - column:
                  name: deleted_at
                  type: DATETIME
            tableName: certificate
  - changeSet:
      id: 1674918550219-5
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: certificate_id
                  type: VARCHAR(255)
              - column:
                  constraints:
                    nullable: false
                  name: restaurant_category_id
                  type: BIGINT
            tableName: certificate_restaurant_category
  - changeSet:
      id: 1674918550219-6
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_restaurant
                  name: id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  defaultValueComputed: CURRENT_TIMESTAMP
                  name: created_at
                  type: TIMESTAMP
              - column:
                  constraints:
                    nullable: false
                  defaultValueComputed: CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
                  name: updated_at
                  type: TIMESTAMP
              - column:
                  name: deleted_at
                  type: DATETIME
              - column:
                  constraints:
                    nullable: false
                  name: name
                  type: varchar(64)
              - column:
                  constraints:
                    nullable: false
                  name: description
                  type: text
              - column:
                  constraints:
                    nullable: false
                  name: working_hours
                  type: varchar(120)
              - column:
                  constraints:
                    nullable: false
                  name: average_bill
                  type: int
              - column:
                  constraints:
                    nullable: false
                  name: address_id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: phone
                  type: varchar(15)
              - column:
                  constraints:
                    nullable: false
                  name: email
                  type: varchar(120)
              - column:
                  constraints:
                    nullable: false
                  name: restaurant_code
                  type: varchar(6)
              - column:
                  constraints:
                    nullable: false
                  name: photo_name
                  type: varchar(40)
              - column:
                  constraints:
                    nullable: false
                  name: contract_name
                  type: varchar(40)
            tableName: restaurant
  - changeSet:
      id: 1674918550219-7
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: restaurant_id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: categories_id
                  type: BIGINT
            tableName: restaurant_categories
  - changeSet:
      id: 1674918550219-8
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_role
                  name: id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  defaultValueComputed: CURRENT_TIMESTAMP
                  name: created_at
                  type: TIMESTAMP
              - column:
                  constraints:
                    nullable: false
                  defaultValueComputed: CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
                  name: updated_at
                  type: TIMESTAMP
              - column:
                  name: deleted_at
                  type: DATETIME
              - column:
                  constraints:
                    nullable: false
                  name: role_name
                  type: VARCHAR(255)
            tableName: role
  - changeSet:
      id: 1674918550219-9
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_transaction
                  name: id
                  type: VARCHAR(255)
              - column:
                  constraints:
                    nullable: false
                  defaultValueComputed: CURRENT_TIMESTAMP
                  name: created_at
                  type: TIMESTAMP
              - column:
                  defaultValueComputed: CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
                  name: updated_at
                  type: TIMESTAMP
              - column:
                  constraints:
                    nullable: false
                  name: deleted_at
                  type: DATETIME
              - column:
                  constraints:
                    nullable: false
                  name: value
                  type: double(4,2)
              - column:
                  constraints:
                    nullable: false
                  name: certificate_id
                  type: VARCHAR(255)
              - column:
                  constraints:
                    nullable: false
                  name: waiter_id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: restaurant_id
                  type: BIGINT
            tableName: transaction
  - changeSet:
      id: 1674918550219-10
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_user
                  name: id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  defaultValueComputed: CURRENT_TIMESTAMP
                  name: created_at
                  type: TIMESTAMP
              - column:
                  constraints:
                    nullable: false
                  defaultValueComputed: CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
                  name: updated_at
                  type: TIMESTAMP
              - column:
                  name: deleted_at
                  type: DATETIME
              - column:
                  name: password
                  type: varchar(60)
              - column:
                  constraints:
                    nullable: false
                  name: full_name
                  type: varchar(60)
              - column:
                  constraints:
                    nullable: false
                  name: email
                  type: varchar(120)
              - column:
                  name: phone
                  type: varchar(15)
              - column:
                  name: address_id
                  type: BIGINT
              - column:
                  name: personal_code
                  type: varchar(11)
              - column:
                  name: last_logged
                  type: date
              - column:
                  name: last_ip
                  type: varchar(15)
              - column:
                  constraints:
                    nullable: false
                  name: activated
                  type: bool
              - column:
                  name: registration_code
                  type: varchar(36)
              - column:
                  constraints:
                    nullable: false
                  name: deleted
                  type: bool
              - column:
                  name: restaurant_id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: role_id
                  type: BIGINT
            tableName: user
  - changeSet:
      id: 1674918550219-11
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: user_id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: certificates_id
                  type: VARCHAR(255)
            tableName: user_certificates
  - changeSet:
      id: 1674918550219-12
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: user_id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: transactions_id
                  type: VARCHAR(255)
            tableName: user_transactions
  - changeSet:
      id: 1674918550219-13
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addUniqueConstraint:
            columnNames: restaurant_category_id
            constraintName: uc_certificate_restaurant_category_restaurantcategory
            tableName: certificate_restaurant_category
  - changeSet:
      id: 1674918550219-14
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addUniqueConstraint:
            columnNames: certificates_id
            constraintName: uc_user_certificates_certificates
            tableName: user_certificates
  - changeSet:
      id: 1674918550219-15
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addUniqueConstraint:
            columnNames: transactions_id
            constraintName: uc_user_transactions_transactions
            tableName: user_transactions
  - changeSet:
      id: 1674918550219-16
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: user_id
            baseTableName: certificate
            constraintName: FK_CERTIFICATE_ON_USER
            referencedColumnNames: id
            referencedTableName: user
  - changeSet:
      id: 1674918550219-17
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: address_id
            baseTableName: restaurant
            constraintName: FK_RESTAURANT_ON_ADDRESS
            referencedColumnNames: id
            referencedTableName: address
  - changeSet:
      id: 1674918550219-18
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: certificate_id
            baseTableName: transaction
            constraintName: FK_TRANSACTION_ON_CERTIFICATE
            referencedColumnNames: id
            referencedTableName: certificate
  - changeSet:
      id: 1674918550219-19
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: restaurant_id
            baseTableName: transaction
            constraintName: FK_TRANSACTION_ON_RESTAURANT
            referencedColumnNames: id
            referencedTableName: restaurant
  - changeSet:
      id: 1674918550219-20
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: waiter_id
            baseTableName: transaction
            constraintName: FK_TRANSACTION_ON_WAITER
            referencedColumnNames: id
            referencedTableName: user
  - changeSet:
      id: 1674918550219-21
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: address_id
            baseTableName: user
            constraintName: FK_USER_ON_ADDRESS
            referencedColumnNames: id
            referencedTableName: address
  - changeSet:
      id: 1674918550219-22
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: restaurant_id
            baseTableName: user
            constraintName: FK_USER_ON_RESTAURANT
            referencedColumnNames: id
            referencedTableName: restaurant
  - changeSet:
      id: 1674918550219-23
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: role_id
            baseTableName: user
            constraintName: FK_USER_ON_ROLE
            referencedColumnNames: id
            referencedTableName: role
  - changeSet:
      id: 1674918550219-24
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: category_id
            baseTableName: category_restaurants
            constraintName: fk_catres_on_category
            referencedColumnNames: id
            referencedTableName: category
  - changeSet:
      id: 1674918550219-25
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: restaurants_id
            baseTableName: category_restaurants
            constraintName: fk_catres_on_restaurant
            referencedColumnNames: id
            referencedTableName: restaurant
  - changeSet:
      id: 1674918550219-26
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: restaurant_category_id
            baseTableName: certificate_restaurant_category
            constraintName: fk_cerrescat_on_category
            referencedColumnNames: id
            referencedTableName: category
  - changeSet:
      id: 1674918550219-27
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: certificate_id
            baseTableName: certificate_restaurant_category
            constraintName: fk_cerrescat_on_certificate
            referencedColumnNames: id
            referencedTableName: certificate
  - changeSet:
      id: 1674918550219-28
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: categories_id
            baseTableName: restaurant_categories
            constraintName: fk_rescat_on_category
            referencedColumnNames: id
            referencedTableName: category
  - changeSet:
      id: 1674918550219-29
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: restaurant_id
            baseTableName: restaurant_categories
            constraintName: fk_rescat_on_restaurant
            referencedColumnNames: id
            referencedTableName: restaurant
  - changeSet:
      id: 1674918550219-30
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: certificates_id
            baseTableName: user_certificates
            constraintName: fk_usecer_on_certificate
            referencedColumnNames: id
            referencedTableName: certificate
  - changeSet:
      id: 1674918550219-31
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: user_id
            baseTableName: user_certificates
            constraintName: fk_usecer_on_user
            referencedColumnNames: id
            referencedTableName: user
  - changeSet:
      id: 1674918550219-32
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: transactions_id
            baseTableName: user_transactions
            constraintName: fk_usetra_on_transaction
            referencedColumnNames: id
            referencedTableName: transaction
  - changeSet:
      id: 1674918550219-33
      author: Aleksei (generated)
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: user_id
            baseTableName: user_transactions
            constraintName: fk_usetra_on_user
            referencedColumnNames: id
            referencedTableName: user

